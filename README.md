# ğŸ¤– Chat AI Agent

ë‹¤ì–‘í•œ MCP(Model Context Protocol) ì„œë²„ì™€ ì—°ë™í•˜ì—¬ ë„êµ¬ë¥¼ ì‚¬ìš©í•  ìˆ˜ ìˆëŠ” AI ì±„íŒ… ì—ì´ì „íŠ¸ì…ë‹ˆë‹¤.

## âœ¨ ì£¼ìš” ê¸°ëŠ¥

- **MCP ì„œë²„ ì—°ë™**: ë‹¤ì–‘í•œ ì™¸ë¶€ ë„êµ¬ì™€ API ì—°ë™
- **ì§€ëŠ¥í˜• ë„êµ¬ ì„ íƒ**: ì‚¬ìš©ì ì§ˆì˜ì— ë”°ë¼ ì ì ˆí•œ ë„êµ¬ ìë™ ì„ íƒ
- **GUI ì¸í„°í˜ì´ìŠ¤**: PyQt6 ê¸°ë°˜ì˜ ì‚¬ìš©ì ì¹œí™”ì  ì¸í„°í˜ì´ìŠ¤
- **ë‹¤ì¤‘ LLM ì§€ì›**: OpenAI GPT, Google Gemini ë“± ë‹¤ì–‘í•œ ëª¨ë¸ ì§€ì›
- **MCP ì„œë²„ ê´€ë¦¬**: ì‹¤ì‹œê°„ ì„œë²„ ìƒíƒœ ëª¨ë‹ˆí„°ë§ ë° ì œì–´
- **ê°œì„ ëœ UI/UX**: ì–´ë‘ìš´ í…Œë§ˆì™€ ê°€ë…ì„± ì¢‹ì€ ì±„íŒ… ì¸í„°í˜ì´ìŠ¤
- **ì›¹ë·° ì—”ì§„**: QWebEngineView ê¸°ë°˜ì˜ ê³ ê¸‰ í…ìŠ¤íŠ¸ ë Œë”ë§
- **ë§ˆí¬ë‹¤ìš´ ì§€ì›**: êµµì€ í…ìŠ¤íŠ¸, ë¶ˆë¦¿ í¬ì¸íŠ¸, ì½”ë“œ ë¸”ë¡ í¬ë§·íŒ…
- **ëŒ€í™” íˆìŠ¤í† ë¦¬**: ì´ì „ ëŒ€í™” ë¬¸ë§¥ì„ ê¸°ì–µí•˜ì—¬ ì—°ì†ì ì¸ ëŒ€í™” ì§€ì›

## ğŸ› ï¸ ì§€ì› ë„êµ¬

### ê²€ìƒ‰ ë„êµ¬
- ì›¹ ê²€ìƒ‰ (Google, Bing ë“±)
- URL í˜ì´ì§€ ë‚´ìš© ê°€ì ¸ì˜¤ê¸°

### ë°ì´í„°ë² ì´ìŠ¤ ë„êµ¬
- MySQL ë°ì´í„°ë² ì´ìŠ¤ ì¡°íšŒ
- í…Œì´ë¸” ìŠ¤í‚¤ë§ˆ í™•ì¸
- SQL ì¿¼ë¦¬ ì‹¤í–‰

### ì—¬í–‰ ì„œë¹„ìŠ¤ ë„êµ¬
- í•˜ë‚˜íˆ¬ì–´ API ì—°ë™
- ì—¬í–‰ ìƒí’ˆ ê²€ìƒ‰
- ì§€ì—­ë³„ ì—¬í–‰ ì •ë³´ ì¡°íšŒ

### ì›¹ë·° ì—”ì§„ ë„êµ¬
- QWebEngineView ê¸°ë°˜ ë Œë”ë§
- ë§ˆí¬ë‹¤ìš´ í¬ë§·íŒ… (êµµì€ í…ìŠ¤íŠ¸, ë¶ˆë¦¿ í¬ì¸íŠ¸)
- ì½”ë“œ ë¸”ë¡ ì‹ íƒìŠ¤ í•˜ì´ë¼ì´íŒ…
- ë‹¤í¬ í…Œë§ˆ ì§€ì›
- ë°˜ì‘í˜• ë ˆì´ì•„ì›ƒ

### ê¸°íƒ€ ë„êµ¬
- íŒŒì¼ ì‹œìŠ¤í…œ ì ‘ê·¼
- ì´ë©”ì¼ ê´€ë¦¬
- ì§€ë„/ìœ„ì¹˜ ì„œë¹„ìŠ¤

## ğŸ“¦ ì„¤ì¹˜ ë° ì„¤ì •

### 1. ì˜ì¡´ì„± ì„¤ì¹˜
```bash
pip install -r requirements.txt
```

### 2. ì„¤ì • íŒŒì¼ êµ¬ì„±

#### config.json
```json
{
  "models": {
    "gpt-3.5-turbo": {
      "api_key": "your-openai-api-key"
    },
    "gemini-pro": {
      "api_key": "your-google-api-key"
    }
  },
  "default_model": "gpt-3.5-turbo"
}
```

#### mcp.json
```json
{
  "servers": {
    "search-mcp-server": {
      "command": "npx",
      "args": ["-y", "@modelcontextprotocol/server-search"],
      "env": {}
    },
    "mysql": {
      "command": "uvx",
      "args": ["mcp-server-mysql", "--host", "localhost", "--user", "root"],
      "env": {}
    }
  }
}
```

### 3. í™˜ê²½ ë³€ìˆ˜ ì„¤ì • (ì„ íƒì‚¬í•­)
```bash
cp .env.example .env
# .env íŒŒì¼ì„ í¸ì§‘í•˜ì—¬ í•„ìš”í•œ í™˜ê²½ ë³€ìˆ˜ ì„¤ì •
```

## ğŸš€ ì‹¤í–‰ ë°©ë²•

### GUI ëª¨ë“œ
```bash
python main.py
```

### í…ŒìŠ¤íŠ¸ ì‹¤í–‰
```bash
# AI ì—ì´ì „íŠ¸ í…ŒìŠ¤íŠ¸
python test/test_agent.py

# MCP ì—°ê²° í…ŒìŠ¤íŠ¸
python test/test_mcp.py

# ëŒ€í™” íˆìŠ¤í† ë¦¬ í…ŒìŠ¤íŠ¸
python test_conversation_history.py

# ê¸°íƒ€ í…ŒìŠ¤íŠ¸ íŒŒì¼ë“¤
python test/quick_test.py
```

## ğŸ“ í”„ë¡œì íŠ¸ êµ¬ì¡°

```
chat-ai-agent/
â”œâ”€â”€ core/                   # í•µì‹¬ ëª¨ë“ˆ
â”‚   â”œâ”€â”€ ai_agent.py        # AI ì—ì´ì „íŠ¸ ë©”ì¸ í´ë˜ìŠ¤
â”‚   â”œâ”€â”€ ai_client.py       # LLM í´ë¼ì´ì–¸íŠ¸
â”‚   â”œâ”€â”€ mcp_client.py      # MCP í´ë¼ì´ì–¸íŠ¸ ê´€ë¦¬
â”‚   â”œâ”€â”€ mcp.py             # MCP ì„œë²„ ì œì–´
â”‚   â”œâ”€â”€ tool_manager.py    # ë„êµ¬ ê´€ë¦¬
â”‚   â”œâ”€â”€ langchain_tools.py # LangChain ë„êµ¬ ë˜í¼
â”‚   â”œâ”€â”€ conversation_history.py # ëŒ€í™” íˆìŠ¤í† ë¦¬ ê´€ë¦¬
â”‚   â””â”€â”€ file_utils.py      # íŒŒì¼ ìœ í‹¸ë¦¬í‹°
â”œâ”€â”€ ui/                     # GUI ì¸í„°í˜ì´ìŠ¤
â”‚   â”œâ”€â”€ main_window.py     # ë©”ì¸ ìœˆë„ìš°
â”‚   â”œâ”€â”€ chat_widget.py     # ì±„íŒ… ìœ„ì ¯
â”‚   â”œâ”€â”€ settings_dialog.py # ì„¤ì • ëŒ€í™”ìƒì
â”‚   â”œâ”€â”€ mcp_dialog.py      # MCP ì„¤ì • ëŒ€í™”ìƒì
â”‚   â””â”€â”€ mcp_manager_dialog.py # MCP ì„œë²„ ê´€ë¦¬ ëŒ€í™”ìƒì
â”œâ”€â”€ test/                   # í…ŒìŠ¤íŠ¸ íŒŒì¼ë“¤
â”‚   â”œâ”€â”€ test_agent.py      # AI ì—ì´ì „íŠ¸ í…ŒìŠ¤íŠ¸
â”‚   â”œâ”€â”€ test_mcp.py        # MCP ì—°ê²° í…ŒìŠ¤íŠ¸
â”‚   â”œâ”€â”€ debug_*.py         # ë””ë²„ê·¸ íŒŒì¼ë“¤
â”‚   â””â”€â”€ quick_test.py      # ë¹ ë¥¸ í…ŒìŠ¤íŠ¸
â”œâ”€â”€ config.json            # ì„¤ì • íŒŒì¼
â”œâ”€â”€ mcp.json              # MCP ì„œë²„ ì„¤ì •
â”œâ”€â”€ main.py               # GUI ì‹¤í–‰ íŒŒì¼
â”œâ”€â”€ test_conversation_history.py # ëŒ€í™” íˆìŠ¤í† ë¦¬ í…ŒìŠ¤íŠ¸
â”œâ”€â”€ setup_env.sh          # ê°€ìƒí™˜ê²½ ì„¤ì • ìŠ¤í¬ë¦½íŠ¸
â””â”€â”€ run.sh                # ì‹¤í–‰ ìŠ¤í¬ë¦½íŠ¸
```

## ğŸ”§ ì‚¬ìš©ë²•

### 1. GUIì—ì„œ ì‚¬ìš©
1. `python main.py` ì‹¤í–‰
2. ì„¤ì •ì—ì„œ API í‚¤ì™€ ëª¨ë¸ ì„ íƒ
3. MCP ì„œë²„ ì—°ê²° í™•ì¸
4. ì±„íŒ…ì°½ì—ì„œ ì§ˆë¬¸ ì…ë ¥

### MCP ì„œë²„ ê´€ë¦¬
- **ì„¤ì • > MCP ì„œë²„ ê´€ë¦¬** ë©”ë‰´ë¡œ ì ‘ê·¼
- ì„œë²„ ìƒíƒœ ì‹¤ì‹œê°„ ëª¨ë‹ˆí„°ë§
- ê°œë³„ ì„œë²„ ì‹œì‘/ì¤‘ì§€/ì¬ì‹œì‘ ê¸°ëŠ¥
- ì‚¬ìš© ê°€ëŠ¥í•œ ë„êµ¬ ëª©ë¡ í™•ì¸

### ëŒ€í™” íˆìŠ¤í† ë¦¬ ê´€ë¦¬
- **ì„¤ì • > ëŒ€í™” ê¸°ë¡ ì´ˆê¸°í™”** ë©”ë‰´ë¡œ ì ‘ê·¼
- ì´ì „ ëŒ€í™” ë‚´ìš©ì„ ìë™ìœ¼ë¡œ ê¸°ì–µ
- ì—°ì†ì ì¸ ëŒ€í™”ì—ì„œ ë¬¸ë§¥ ìœ ì§€
- í•„ìš”ì‹œ ëŒ€í™” ê¸°ë¡ ì™„ì „ ì´ˆê¸°í™” ê°€ëŠ¥

### 2. í”„ë¡œê·¸ë˜ë° ë°©ì‹ ì‚¬ìš©
```python
from core.ai_agent import AIAgent
from core.mcp import start_mcp_servers
from core.file_utils import load_model_api_key

# MCP ì„œë²„ ì‹œì‘
start_mcp_servers('mcp.json')

# AI ì—ì´ì „íŠ¸ ìƒì„±
api_key = load_model_api_key('gpt-3.5-turbo')
agent = AIAgent(api_key, 'gpt-3.5-turbo')

# ë©”ì‹œì§€ ì²˜ë¦¬
response, used_tools = agent.process_message("MySQL ë°ì´í„°ë² ì´ìŠ¤ ëª©ë¡ì„ ë³´ì—¬ì£¼ì„¸ìš”")
print(f"ì‘ë‹µ: {response}")
print(f"ë„êµ¬ ì‚¬ìš©ë¨: {used_tools}")
```

## ğŸ¤ ê¸°ì—¬í•˜ê¸°

1. Fork the repository
2. Create your feature branch (`git checkout -b feature/AmazingFeature`)
3. Commit your changes (`git commit -m 'Add some AmazingFeature'`)
4. Push to the branch (`git push origin feature/AmazingFeature`)
5. Open a Pull Request

## ğŸ“„ ë¼ì´ì„ ìŠ¤

ì´ í”„ë¡œì íŠ¸ëŠ” MIT ë¼ì´ì„ ìŠ¤ í•˜ì— ë°°í¬ë©ë‹ˆë‹¤. ìì„¸í•œ ë‚´ìš©ì€ `LICENSE` íŒŒì¼ì„ ì°¸ì¡°í•˜ì„¸ìš”.

## ğŸ› ë¬¸ì œ í•´ê²°

### ì¼ë°˜ì ì¸ ë¬¸ì œë“¤

1. **MCP ì„œë²„ ì—°ê²° ì‹¤íŒ¨**
   - Node.js ë° í•„ìš”í•œ íŒ¨í‚¤ì§€ê°€ ì„¤ì¹˜ë˜ì–´ ìˆëŠ”ì§€ í™•ì¸
   - `mcp.json` ì„¤ì •ì´ ì˜¬ë°”ë¥¸ì§€ í™•ì¸

2. **API í‚¤ ì˜¤ë¥˜**
   - `config.json`ì— ì˜¬ë°”ë¥¸ API í‚¤ê°€ ì„¤ì •ë˜ì–´ ìˆëŠ”ì§€ í™•ì¸
   - API í‚¤ì— ì¶©ë¶„í•œ í¬ë ˆë”§ì´ ìˆëŠ”ì§€ í™•ì¸

3. **ë„êµ¬ ì‹¤í–‰ ì˜¤ë¥˜**
   - í•´ë‹¹ ì„œë¹„ìŠ¤(MySQL, ì›¹ ê²€ìƒ‰ ë“±)ê°€ ì ‘ê·¼ ê°€ëŠ¥í•œì§€ í™•ì¸
   - í•„ìš”í•œ ê¶Œí•œì´ ì„¤ì •ë˜ì–´ ìˆëŠ”ì§€ í™•ì¸

### ë¡œê·¸ í™•ì¸
í”„ë¡œê·¸ë¨ ì‹¤í–‰ ì‹œ ì½˜ì†”ì— ì¶œë ¥ë˜ëŠ” ë¡œê·¸ë¥¼ í™•ì¸í•˜ì—¬ ë¬¸ì œë¥¼ ì§„ë‹¨í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.

## ğŸ“ ì§€ì›

ë¬¸ì œê°€ ë°œìƒí•˜ê±°ë‚˜ ì§ˆë¬¸ì´ ìˆìœ¼ì‹œë©´ GitHub Issuesë¥¼ í†µí•´ ë¬¸ì˜í•´ ì£¼ì„¸ìš”.